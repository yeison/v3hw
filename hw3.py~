from ImageAnalyzer import *
from opencv import cv
from opencv.highgui import *
import rpy2.robjects.lib.ggplot2 as ggplot2
import rpy2.robjects as ro
from rpy2.robjects.packages import importr
import time



bird_BW = cvLoadImage("bird.J.bmp", CV_LOAD_IMAGE_GRAYSCALE)
bird = cvLoadImage("bird.J.bmp")

scale = 3
redPixels = []
bluePixels = []
histoRed = list(0 for i in range(256))
histoBlue = list(0 for i in range(256))
width = range(scale, (bird.width-1) - scale)
height = range(scale, (bird.height-1) - scale)
for i in width:
    for j in height:
        contrast = 0
        for theta in range(1):
            print ""
            #contrast = max(contrast, dofIA2(i, j, (theta*pi)/4, scale, bird))

        if bird[j][i][2] == 255:
            histoRed[int(contrast)] += 1
            
        else:
            histoBlue[int(contrast)] += 1


grdevices = importr('grDevices')
datasets = importr('datasets')
grdevices.png(file="file.png", width=321, height=213)
grdevices.dev_off()
mtcars = datasets.mtcars
d = {'red':ro.IntVector(histoRed), 'blue': ro.IntVector(histoBlue)}
dataf = ro.DataFrame(d)
gp = ggplot2.ggplot(mtcars)
hp = gp + ggplot2.aes_string(x='wt', y='mpg') + ggplot2.geom_histogram()

hp.plot()

cvShowImage("Bird", bird_BW)
cvShowImage("Bird2", bird)
cvWaitKey()
